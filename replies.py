import random
import re

REPLIES = {
    "Ð½ÐµÑ‚": [
        "Ð¿Ð¸Ð´Ð¾Ñ€Ð° Ð¾Ñ‚Ð²ÐµÑ‚",
        "ÑˆÐ»ÑŽÑ…Ð¸ Ð°Ñ€Ð³ÑƒÐ¼ÐµÐ½Ñ‚",
        "Ð°Ñ€Ð³ÑƒÐ¼ÐµÐ½Ñ‚ Ð½Ðµ Ð½ÑƒÐ¶ÐµÐ½, Ð¿Ð¸Ð´Ð¾Ñ€ Ð¾Ð±Ð½Ð°Ñ€ÑƒÐ¶ÐµÐ½"
    ],
    "Ð´Ð°": ["Ð¿Ð¸Ð·Ð´Ð°"],
    "Ñ‚Ñ€Ð¸ÑÑ‚Ð°": ["Ð¾Ñ‚ÑÐ¾ÑÐ¸ Ñƒ Ñ‚Ñ€Ð°ÐºÑ‚Ð¾Ñ€Ð¸ÑÑ‚Ð°"],
    "Ð¿Ñ€Ð¸Ð²ÐµÑ‚": ["Ð¿Ñ€Ð¸Ð²ÐµÑ‚ â€” Ð¸ Ð¿Ð¸Ð·Ð´ÐµÑ†"],
    "Ð¾Ðº": ["Ð¾Ðº â€” Ð¸Ð´Ð¸ Ð½Ð°Ñ…ÑƒÐ¹ Ð´Ñ€ÑƒÐ¶Ð¾Ðº"],
    "Ñ‡Ðµ": ["Ñ‡Ðµ â€” Ñ…ÑƒÐ¹ Ñ‡ÐµÑ€ÐµÐ· Ð¿Ð»ÐµÑ‡Ð¾"],
    "Ð°Ð³Ð°": ["Ð°Ð³Ð° â€” ÐµÐ±Ð°Ð»Ð¾ Ð¸Ð· Ð³Ð¾Ð²Ð½Ð°"],
    "Ð»Ð¾Ð»": ["Ð»Ð¾Ð» â€” Ñ…ÑƒÐ¹ Ð½Ð° ÑÑ‚Ð¾Ð»"],
    "Ð¹Ð¾Ñƒ": ["Ð¹Ð¾Ñƒ â€” Ñ…ÑƒÐ¹ Ð½Ð° ÑˆÐ¾Ñƒ"],
    "Ð·Ð°Ñ‡ÐµÐ¼": ["Ð·Ð°Ñ‡ÐµÐ¼ â€” Ð´Ð° Ð¿Ñ€Ð¾ÑÑ‚Ð¾ ÐµÐ±ÐµÐ¼"],
    "ÐºÑ‚Ð¾": ["ÐºÑ‚Ð¾ â€” ÑƒÐµÐ±Ð°Ð½ Ð² Ð¿Ð°Ð»ÑŒÑ‚Ð¾"],
    "Ð³Ð´Ðµ": ["Ð³Ð´Ðµ â€” Ð½Ð° Ñ…ÑƒÐµ"],
    "ÐºÐ¸Ñ€Ð¿Ð¸Ñ‡Ð¸": ["ÐºÐ¸Ñ€Ð¿Ð¸Ñ‡Ð¸ â€” ÑÑ‚Ñ€Ð¾Ð¹ Ð¸Ð· Ð½Ð¸Ñ… Ð¼ÐµÑ‡Ñ‚Ñ‹"],
    "ÐºÐ¸Ñ€Ð¿Ð¸Ñ‡Ð¸ÐºÐ¸": ["ÐºÐ¸Ñ€Ð¿Ð¸Ñ‡Ð¸ÐºÐ¸ â€” ÑÐ»Ð¾Ð¶Ð¸ Ð² Ñ€ÑÐ´, Ð¸ Ð·Ð°ÐµÐ±Ð¸ÑÑŒ Ð²Ð¸Ð´Ð°Ñ‚ÑŒ"],
}

SMART_QUOTES = [
    "Â«Ð¢Ð¾Ñ‚, ÐºÑ‚Ð¾ Ð½Ðµ Ñ€Ð¸ÑÐºÑƒÐµÑ‚, Ñ‚Ð¾Ñ‚ Ð½Ðµ Ð¿ÑŒÑ‘Ñ‚ ÑˆÐ°Ð¼Ð¿Ð°Ð½ÑÐºÐ¾ÐµÂ» ðŸ¥‚",
    "Â«Ð–Ð¸Ð·Ð½ÑŒ â€” ÑÑ‚Ð¾ Ñ‚Ð¾, Ñ‡Ñ‚Ð¾ Ñ Ñ‚Ð¾Ð±Ð¾Ð¹ Ð¿Ñ€Ð¾Ð¸ÑÑ…Ð¾Ð´Ð¸Ñ‚, Ð¿Ð¾ÐºÐ° Ñ‚Ñ‹ ÑÑ‚Ñ€Ð¾Ð¸ÑˆÑŒ Ð¿Ð»Ð°Ð½Ñ‹Â» (Ð”Ð¶Ð¾Ð½ Ð›ÐµÐ½Ð½Ð¾Ð½)",
    "Â«Ð’ÑÑ‘ Ð³ÐµÐ½Ð¸Ð°Ð»ÑŒÐ½Ð¾Ðµ â€” Ð¿Ñ€Ð¾ÑÑ‚Ð¾Â» (Ð. Ð­Ð¹Ð½ÑˆÑ‚ÐµÐ¹Ð½)",
    "Â«Ð£Ð¼Ð½Ñ‹Ð¹ ÑƒÑ‡Ð¸Ñ‚ÑÑ Ð½Ð° Ñ‡ÑƒÐ¶Ð¸Ñ… Ð¾ÑˆÐ¸Ð±ÐºÐ°Ñ…, Ð´ÑƒÑ€Ð°Ðº â€” Ð½Ð° ÑÐ²Ð¾Ð¸Ñ…Â»",
    "Â«Ð›ÑƒÑ‡ÑˆÐµ Ð±Ñ‹Ñ‚ÑŒ Ð¿Ð¾ÑÐ»ÐµÐ´Ð½Ð¸Ð¼ Ð»ÑŒÐ²Ð¾Ð¼, Ñ‡ÐµÐ¼ Ð¿ÐµÑ€Ð²Ð¾Ð¹ Ð¾Ð²Ñ†Ð¾Ð¹Â» ðŸ¦",
    "Â«Ð¡Ñ‡Ð°ÑÑ‚ÑŒÐµ â€” ÑÑ‚Ð¾ Ð¿Ð¾Ð±Ð¾Ñ‡Ð½Ñ‹Ð¹ ÑÑ„Ñ„ÐµÐºÑ‚ Ð¿Ñ€Ð°Ð²Ð¸Ð»ÑŒÐ½Ð¾ Ð¿Ñ€Ð¾Ð¶Ð¸Ñ‚Ð¾Ð¹ Ð¶Ð¸Ð·Ð½Ð¸Â»",
    "Â«ÐÐ¸ÐºÐ¾Ð³Ð´Ð° Ð½Ðµ Ð¿Ð¾Ð·Ð´Ð½Ð¾ ÑÑ‚Ð°Ñ‚ÑŒ Ñ‚ÐµÐ¼, ÐºÐµÐ¼ Ñ‚Ñ‹ Ð¼Ð¾Ð³ Ð±Ñ‹ Ð±Ñ‹Ñ‚ÑŒÂ» (Ð”Ð¶Ð¾Ñ€Ð´Ð¶ Ð­Ð»Ð¸Ð¾Ñ‚)",
    "Â«Ð’ÐµÐ»Ð¸Ñ‡Ð°Ð¹ÑˆÐ°Ñ ÑÐ»Ð°Ð²Ð° â€” Ð½Ðµ Ð² Ñ‚Ð¾Ð¼, Ñ‡Ñ‚Ð¾Ð±Ñ‹ Ð½Ðµ Ð¿Ð°Ð´Ð°Ñ‚ÑŒ, Ð° Ð² Ñ‚Ð¾Ð¼, Ñ‡Ñ‚Ð¾Ð±Ñ‹ ÐºÐ°Ð¶Ð´Ñ‹Ð¹ Ñ€Ð°Ð· Ð¿Ð¾Ð´Ð½Ð¸Ð¼Ð°Ñ‚ÑŒÑÑÂ» (ÐšÐ¾Ð½Ñ„ÑƒÑ†Ð¸Ð¹)",
    "Ð¤Ð°ÐºÑ‚: Ñƒ ÑƒÑ‚ÐºÐ¾Ð½Ð¾ÑÐ° Ð½ÐµÑ‚ Ð¶ÐµÐ»ÑƒÐ´ÐºÐ° ðŸ¦†",
    "Ð¤Ð°ÐºÑ‚: Ð¼Ð¾Ñ€ÐºÐ¾Ð²ÐºÐ° Ñ€Ð°Ð½ÑŒÑˆÐµ Ð±Ñ‹Ð»Ð° Ñ„Ð¸Ð¾Ð»ÐµÑ‚Ð¾Ð²Ð¾Ð¹ ðŸ¥•",
    "Ð¤Ð°ÐºÑ‚: ÐºÑ€Ð¾ÐºÐ¾Ð´Ð¸Ð» Ð½Ðµ ÑƒÐ¼ÐµÐµÑ‚ Ð²Ñ‹ÑÐ¾Ð²Ñ‹Ð²Ð°Ñ‚ÑŒ ÑÐ·Ñ‹Ðº ðŸŠ",
    "Ð¤Ð°ÐºÑ‚: Ð±Ð°Ð½Ð°Ð½Ñ‹ â€” ÑÑ‚Ð¾ ÑÐ³Ð¾Ð´Ñ‹, Ð° ÐºÐ»ÑƒÐ±Ð½Ð¸ÐºÐ° â€” Ð½ÐµÑ‚ ðŸŒðŸ“",
    "Ð¤Ð°ÐºÑ‚: Ð¼ÐµÐ´ÑƒÐ·Ñ‹ Ð¶Ð¸Ð²ÑƒÑ‚ Ð±ÐµÐ· Ð¼Ð¾Ð·Ð³Ð° Ð¸ Ð½Ðµ Ð¿Ð°Ñ€ÑÑ‚ÑÑ ðŸª¼",
    "Ð¤Ð°ÐºÑ‚: Ñƒ ÑƒÐ»Ð¸Ñ‚ÐºÐ¸ Ð´Ð¾ 25 000 Ð·ÑƒÐ±Ð¾Ð² ðŸŒ",
    "Ð¤Ð°ÐºÑ‚: Ð»Ð¾ÑˆÐ°Ð´Ð¸ ÑƒÐ¼ÐµÑŽÑ‚ ÑÐ¿Ð°Ñ‚ÑŒ ÑÑ‚Ð¾Ñ ðŸŽ",
    "Ð¤Ð°ÐºÑ‚: Ð² ÐºÐ¾ÑÐ¼Ð¾ÑÐµ Ð¿Ð°Ñ…Ð½ÐµÑ‚ Ð¶Ð°Ñ€ÐµÐ½Ñ‹Ð¼ Ð¼ÑÑÐ¾Ð¼ ðŸš€ðŸ¥©",
    "Ð¤Ð°ÐºÑ‚: Ð¿Ñ‡Ñ‘Ð»Ñ‹ ÑƒÐ·Ð½Ð°ÑŽÑ‚ Ð»Ð¸Ñ†Ð° Ð»ÑŽÐ´ÐµÐ¹ ðŸðŸ‘¤",
]

def normalize(text: str) -> str:
    return re.sub(r'[^Ð°-ÑÑ‘a-z0-9\s]', '', text.lower()).strip()

def get_reply(text: str) -> str:
    clean = normalize(text)
    for key, replies in REPLIES.items():
        if key in clean:
            return random.choice(replies)
    return random.choice(SMART_QUOTES)
