import random
import re

REPLIES = {
    "нет": [
        "пидора ответ",
        "шлюхи аргумент",
        "аргумент не нужен, пидор обнаружен"
    ],
    "да": ["пизда"],
    "триста": ["отсоси у тракториста"],
    "привет": ["привет — и пиздец"],
    "ок": ["ок — иди нахуй дружок"],
    "че": ["че — хуй через плечо"],
    "ага": ["ага — ебало из говна"],
    "лол": ["лол — хуй на стол"],
    "йоу": ["йоу — хуй на шоу"],
    "зачем": ["зачем — да просто ебем"],
    "кто": ["кто — уебан в пальто"],
    "где": ["где — на хуе"],
    "кирпичи": ["кирпичи — строй из них мечты"],
    "кирпичики": ["кирпичики — сложи в ряд, и заебись видать"],
}

SMART_QUOTES = [
    "«Тот, кто не рискует, тот не пьёт шампанское» 🥂",
    "«Жизнь — это то, что с тобой происходит, пока ты строишь планы» (Джон Леннон)",
    "«Всё гениальное — просто» (А. Эйнштейн)",
    "«Умный учится на чужих ошибках, дурак — на своих»",
    "«Лучше быть последним львом, чем первой овцой» 🦁",
    "«Счастье — это побочный эффект правильно прожитой жизни»",
    "«Никогда не поздно стать тем, кем ты мог бы быть» (Джордж Элиот)",
    "«Величайшая слава — не в том, чтобы не падать, а в том, чтобы каждый раз подниматься» (Конфуций)",
    "Факт: у утконоса нет желудка 🦆",
    "Факт: морковка раньше была фиолетовой 🥕",
    "Факт: крокодил не умеет высовывать язык 🐊",
    "Факт: бананы — это ягоды, а клубника — нет 🍌🍓",
    "Факт: медузы живут без мозга и не парятся 🪼",
    "Факт: у улитки до 25 000 зубов 🐌",
    "Факт: лошади умеют спать стоя 🐎",
    "Факт: в космосе пахнет жареным мясом 🚀🥩",
    "Факт: пчёлы узнают лица людей 🐝👤",
]

def normalize(text: str) -> str:
    return re.sub(r'[^а-яёa-z0-9\s]', '', text.lower()).strip()

def get_reply(text: str) -> str:
    clean = normalize(text)
    for key, replies in REPLIES.items():
        if key in clean:
            return random.choice(replies)
    return random.choice(SMART_QUOTES)
